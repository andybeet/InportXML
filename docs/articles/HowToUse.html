<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the InPort package • inportxml</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the InPort package">
<meta property="og:description" content="inportxml">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inportxml</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/HowToUse.html">Using the InPort package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HowToUse_files/header-attrs-2.4/header-attrs.js"></script><script src="HowToUse_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using the InPort package</h1>
            
      
      
      <div class="hidden name"><code>HowToUse.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">inportxml</span>)</pre></body></html></div>
<p>The process of creating xml files for direct upload into InPort is a several step process</p>
<ol style="list-style-type: decimal">
<li>obtain the xlsx template file</li>
<li>complete the template file</li>
<li>use the package to create xml file(s)</li>
<li>upload to <a href="https://inport.nmfs.noaa.gov/inport/">InPort</a>
</li>
</ol>
<div id="obtain-the-xlsx-template" class="section level2">
<h2 class="hasAnchor">
<a href="#obtain-the-xlsx-template" class="anchor"></a>Obtain the xlsx template</h2>
<p>The package is shipped with the default template file (set up for the NEFSC). This file needs to be copied to your working directory in order for you to edit it.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/copy_master_to_wd.html">copy_master_to_wd</a></span>()</pre></body></html></div>
<p>The file will be called <code>Master_Template.xlsx</code></p>
</div>
<div id="complete-the-template-file" class="section level2">
<h2 class="hasAnchor">
<a href="#complete-the-template-file" class="anchor"></a>Complete the template file</h2>
<p>The template file is color coded (see below). There are instructions built into the file to help in completion. Please read them.</p>
<ul>
<li>Sections in RED should not be edited</li>
<li>Sections in GREEN must be completed to achive 100% PARR (Public Access to Research Results) compliance.</li>
<li>Sections in ORANGE are conditional on GREEN entries.</li>
<li>Sections in BLUE are optional</li>
</ul>
<p><img src="templateFile.png" width="80%"></p>
<p>There are three worksheet in the file. Users will need to fill out the first and second worksheets titled “Data_Set” and “Entity” respectively. The worksheet titled “Var_List” should be ignored. This contains values used in the other worksheets’ drop down menus.</p>
<p><img src="templateFileTabs.png" width="30%"></p>
<p>For example, suppose the data set is “Concentration of chlorophyll a derived from ocean color remote sensing”. Metadata entered in the “Data-Set” worksheet would include general metadata such as:</p>
<ul>
<li>A description of data</li>
<li>Spatial domain of collection</li>
<li>keywords describing data</li>
<li>affiliated organization/center</li>
<li>Person to contact</li>
<li>etc</li>
</ul>
<p>An Entity is considered a child item of the data set. This is where any attributes associated with the entity are entered. These attributes are entered on the “Entity” worksheet. For example, an entity of the above mentioned data set would be:</p>
<ul>
<li>concentration of Chrlorophyll a <strong>time series</strong>
</li>
</ul>
<p>its attributes would be:</p>
<ul>
<li>ocean color source</li>
<li>mean</li>
<li>median</li>
<li>standard deviation</li>
<li>latitude and longitude of grid cells</li>
</ul>
<p>Another entity of the data set could be chlorophyl a <strong>anomolies</strong></p>
<p>Both entities are children of the data set.</p>
<p>The color coding in the “Entity” worksheet is the same as in the Data_Set worksheet.</p>
<p><img src="templateFileEntity.png" width="80%"></p>
<p>Once completed save the Master file to whatever makes sense to you. Let’s call it “myData.xlsx”</p>
</div>
<div id="use-the-package-to-create-xml-files" class="section level2">
<h2 class="hasAnchor">
<a href="#use-the-package-to-create-xml-files" class="anchor"></a>Use the package to create xml file(s)</h2>
<p>This is the easy step. Simply type the following command:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r">createInPortXML(inFile = "mydata.xlsx",outPath = /path/to/where/want/output/saved, outFile = "filename.xml")</pre></body></html></div>
<p>This will create two xml files and save them in <code>outPath</code> with the names <code>master_filename.xml</code> and <code>entity_filename.xml</code></p>
<p>For detailed help please type:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r">?<span class="no">createInPortXML</span></pre></body></html></div>
</div>
<div id="upload-to-inport" class="section level2">
<h2 class="hasAnchor">
<a href="#upload-to-inport" class="anchor"></a>Upload to InPort</h2>
<p>The final step involves uploading the two xml files into InPort. The following provides steps for uploading a new record to the Ecosystem Dynamics and Assessment Branch (EDAB).</p>
<ol style="list-style-type: decimal">
<li>Log in to InPort (use VPN if not inside network)</li>
<li>Navigate to appropriate science center. For example <a href="https://inport.nmfs.noaa.gov/inport/hierarchy/1368">NEFSC</a>
</li>
<li>Navitage to Branch/ parent folder under which you’d like to add a record and click the name in the column on the right hand side of the page (for example <a href="https://inport.nmfs.noaa.gov/inport/item/23135">EDAB</a> )</li>
<li>Note the ID number of this record. For EDAB the ID is 23135.</li>
<li>Edit the master_xxx.xml file and add this ID number between the <code>&lt;parent-catalog-item-id&gt;</code> tags. For example <code>&lt;parent-catalog-item-id&gt; 23135 &lt;/parent-catalog-item-id&gt;</code>
</li>
<li>Select <strong>Upload InPort XML</strong> from the <strong>Item</strong> drop down menu</li>
<li>Select <strong>Choose File</strong> button , navigate to master_xxx.xml and click <strong>Load Metadata</strong>
</li>
<li>You will be presented with and <em>XML Loader Report</em>. Print this report since any warnings may need to be addressed.</li>
<li>Click the <strong>View Catalog Item in InPort</strong> button.</li>
<li>Note the ID of the the catalog item that you just created.</li>
<li>Edit the entity_xxx.xml file and add this ID number between the <code>&lt;parent-catalog-item-id&gt;</code> tags. For example <code>&lt;parent-catalog-item-id&gt; catalogID &lt;/parent-catalog-item-id&gt;</code>
</li>
<li>Under this new record select ** Add Child Item From File **.</li>
<li>Select <strong>Choose File</strong> button , navigate to entity_xxx.xml and click <strong>Create</strong>
</li>
<li>View the record and note Rubric score (see <a href="#rubricScore">section</a>)</li>
<li>At some point you will need to publish the record. It’s current state will be a draft.</li>
</ol>
</div>
<div id="rubricScore" class="section level2">
<h2 class="hasAnchor">
<a href="#rubricScore" class="anchor"></a>Check Rubric Score</h2>
<p>View the uploaded catalog and find out the Rubric score (%age). Find out which fields are missing and send report to Andy (<a href="mailto:andrew.beet@noaa.gov" class="email">andrew.beet@noaa.gov</a>) or Kim (<a href="mailto:kimberly.bastille@noaa.gov" class="email">kimberly.bastille@noaa.gov</a>)</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andrew Beet, Sean Hardison.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
